<!DOCTYPE html><html class=no-js lang=zh> <head><meta charset=utf-8><meta content="width=device-width,initial-scale=1" name=viewport><meta content=ZYJ的笔记本 name=description><meta content=YJ_Zheng name=author><link href=https://zyj1214566.github.io/nlp1/ rel=canonical><link href=.. rel=prev><link href=../nlp2/ rel=next><link href=../assets/images/favicon.png rel=icon><meta content="mkdocs-1.6.0, mkdocs-material-9.5.28" name=generator><title>nlp常用工具包 - ZYJ's Notebook</title><link href=../assets/stylesheets/main.6543a935.min.css rel=stylesheet><link href=../assets/stylesheets/palette.06af60db.min.css rel=stylesheet><style>:root{--md-admonition-icon--note:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M1 7.775V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 0 1 0 2.474l-5.026 5.026a1.75 1.75 0 0 1-2.474 0l-6.25-6.25A1.752 1.752 0 0 1 1 7.775Zm1.5 0c0 .066.026.13.073.177l6.25 6.25a.25.25 0 0 0 .354 0l5.025-5.025a.25.25 0 0 0 0-.354l-6.25-6.25a.25.25 0 0 0-.177-.073H2.75a.25.25 0 0 0-.25.25ZM6 5a1 1 0 1 1 0 2 1 1 0 0 1 0-2Z"/></svg>');--md-admonition-icon--abstract:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2.5 1.75v11.5c0 .138.112.25.25.25h3.17a.75.75 0 0 1 0 1.5H2.75A1.75 1.75 0 0 1 1 13.25V1.75C1 .784 1.784 0 2.75 0h8.5C12.216 0 13 .784 13 1.75v7.736a.75.75 0 0 1-1.5 0V1.75a.25.25 0 0 0-.25-.25h-8.5a.25.25 0 0 0-.25.25Zm13.274 9.537v-.001l-4.557 4.45a.75.75 0 0 1-1.055-.008l-1.943-1.95a.75.75 0 0 1 1.062-1.058l1.419 1.425 4.026-3.932a.75.75 0 1 1 1.048 1.074ZM4.75 4h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM4 7.75A.75.75 0 0 1 4.75 7h2a.75.75 0 0 1 0 1.5h-2A.75.75 0 0 1 4 7.75Z"/></svg>');--md-admonition-icon--info:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"/></svg>');--md-admonition-icon--tip:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M3.499.75a.75.75 0 0 1 1.5 0v.996C5.9 2.903 6.793 3.65 7.662 4.376l.24.202c-.036-.694.055-1.422.426-2.163C9.1.873 10.794-.045 12.622.26 14.408.558 16 1.94 16 4.25c0 1.278-.954 2.575-2.44 2.734l.146.508.065.22c.203.701.412 1.455.476 2.226.142 1.707-.4 3.03-1.487 3.898C11.714 14.671 10.27 15 8.75 15h-6a.75.75 0 0 1 0-1.5h1.376a4.484 4.484 0 0 1-.563-1.191 3.835 3.835 0 0 1-.05-2.063 4.647 4.647 0 0 1-2.025-.293.75.75 0 0 1 .525-1.406c1.357.507 2.376-.006 2.698-.318l.009-.01a.747.747 0 0 1 1.06 0 .748.748 0 0 1-.012 1.074c-.912.92-.992 1.835-.768 2.586.221.74.745 1.337 1.196 1.621H8.75c1.343 0 2.398-.296 3.074-.836.635-.507 1.036-1.31.928-2.602-.05-.603-.216-1.224-.422-1.93l-.064-.221c-.12-.407-.246-.84-.353-1.29a2.425 2.425 0 0 1-.507-.441 3.075 3.075 0 0 1-.633-1.248.75.75 0 0 1 1.455-.364c.046.185.144.436.31.627.146.168.353.305.712.305.738 0 1.25-.615 1.25-1.25 0-1.47-.95-2.315-2.123-2.51-1.172-.196-2.227.387-2.706 1.345-.46.92-.27 1.774.019 3.062l.042.19a.884.884 0 0 1 .01.05c.348.443.666.949.94 1.553a.75.75 0 1 1-1.365.62c-.553-1.217-1.32-1.94-2.3-2.768L6.7 5.527c-.814-.68-1.75-1.462-2.692-2.619a3.737 3.737 0 0 0-1.023.88c-.406.495-.663 1.036-.722 1.508.116.122.306.21.591.239.388.038.797-.06 1.032-.19a.75.75 0 0 1 .728 1.31c-.515.287-1.23.439-1.906.373-.682-.067-1.473-.38-1.879-1.193L.75 5.677V5.5c0-.984.48-1.94 1.077-2.664.46-.559 1.05-1.055 1.673-1.353V.75Z"/></svg>');--md-admonition-icon--success:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"/></svg>');--md-admonition-icon--question:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.92 6.085h.001a.749.749 0 1 1-1.342-.67c.169-.339.436-.701.849-.977C6.845 4.16 7.369 4 8 4a2.756 2.756 0 0 1 1.637.525c.503.377.863.965.863 1.725 0 .448-.115.83-.329 1.15-.205.307-.47.513-.692.662-.109.072-.22.138-.313.195l-.006.004a6.24 6.24 0 0 0-.26.16.952.952 0 0 0-.276.245.75.75 0 0 1-1.248-.832c.184-.264.42-.489.692-.661.103-.067.207-.132.313-.195l.007-.004c.1-.061.182-.11.258-.161a.969.969 0 0 0 .277-.245C8.96 6.514 9 6.427 9 6.25a.612.612 0 0 0-.262-.525A1.27 1.27 0 0 0 8 5.5c-.369 0-.595.09-.74.187a1.01 1.01 0 0 0-.34.398ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"/></svg>');--md-admonition-icon--warning:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"/></svg>');--md-admonition-icon--failure:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2.344 2.343h-.001a8 8 0 0 1 11.314 11.314A8.002 8.002 0 0 1 .234 10.089a8 8 0 0 1 2.11-7.746Zm1.06 10.253a6.5 6.5 0 1 0 9.108-9.275 6.5 6.5 0 0 0-9.108 9.275ZM6.03 4.97 8 6.94l1.97-1.97a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l1.97 1.97a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-1.97 1.97a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L6.94 8 4.97 6.03a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018Z"/></svg>');--md-admonition-icon--danger:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M9.504.43a1.516 1.516 0 0 1 2.437 1.713L10.415 5.5h2.123c1.57 0 2.346 1.909 1.22 3.004l-7.34 7.142a1.249 1.249 0 0 1-.871.354h-.302a1.25 1.25 0 0 1-1.157-1.723L5.633 10.5H3.462c-1.57 0-2.346-1.909-1.22-3.004L9.503.429Zm1.047 1.074L3.286 8.571A.25.25 0 0 0 3.462 9H6.75a.75.75 0 0 1 .694 1.034l-1.713 4.188 6.982-6.793A.25.25 0 0 0 12.538 7H9.25a.75.75 0 0 1-.683-1.06l2.008-4.418.003-.006a.036.036 0 0 0-.004-.009l-.006-.006-.008-.001c-.003 0-.006.002-.009.004Z"/></svg>');--md-admonition-icon--bug:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M4.72.22a.75.75 0 0 1 1.06 0l1 .999a3.488 3.488 0 0 1 2.441 0l.999-1a.748.748 0 0 1 1.265.332.75.75 0 0 1-.205.729l-.775.776c.616.63.995 1.493.995 2.444v.327c0 .1-.009.197-.025.292.408.14.764.392 1.029.722l1.968-.787a.75.75 0 0 1 .556 1.392L13 7.258V9h2.25a.75.75 0 0 1 0 1.5H13v.5c0 .409-.049.806-.141 1.186l2.17.868a.75.75 0 0 1-.557 1.392l-2.184-.873A4.997 4.997 0 0 1 8 16a4.997 4.997 0 0 1-4.288-2.427l-2.183.873a.75.75 0 0 1-.558-1.392l2.17-.868A5.036 5.036 0 0 1 3 11v-.5H.75a.75.75 0 0 1 0-1.5H3V7.258L.971 6.446a.75.75 0 0 1 .558-1.392l1.967.787c.265-.33.62-.583 1.03-.722a1.677 1.677 0 0 1-.026-.292V4.5c0-.951.38-1.814.995-2.444L4.72 1.28a.75.75 0 0 1 0-1.06Zm.53 6.28a.75.75 0 0 0-.75.75V11a3.5 3.5 0 1 0 7 0V7.25a.75.75 0 0 0-.75-.75ZM6.173 5h3.654A.172.172 0 0 0 10 4.827V4.5a2 2 0 1 0-4 0v.327c0 .096.077.173.173.173Z"/></svg>');--md-admonition-icon--example:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M5 5.782V2.5h-.25a.75.75 0 0 1 0-1.5h6.5a.75.75 0 0 1 0 1.5H11v3.282l3.666 5.76C15.619 13.04 14.543 15 12.767 15H3.233c-1.776 0-2.852-1.96-1.899-3.458Zm-2.4 6.565a.75.75 0 0 0 .633 1.153h9.534a.75.75 0 0 0 .633-1.153L12.225 10.5h-8.45ZM9.5 2.5h-3V6c0 .143-.04.283-.117.403L4.73 9h6.54L9.617 6.403A.746.746 0 0 1 9.5 6Z"/></svg>');--md-admonition-icon--quote:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M1.75 2.5h10.5a.75.75 0 0 1 0 1.5H1.75a.75.75 0 0 1 0-1.5Zm4 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5Zm0 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5ZM2.5 7.75v6a.75.75 0 0 1-1.5 0v-6a.75.75 0 0 1 1.5 0Z"/></svg>');}</style><link crossorigin href=https://fonts.gstatic.com rel=preconnect><link href="https://fonts.googleapis.com/css?family=Noto+Serif+SC:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&display=fallback" rel=stylesheet><style>:root{--md-text-font:"Noto Serif SC";--md-code-font:"JetBrains Mono"}</style><link href=../css/heti.css rel=stylesheet><link href=../style/css/custom.css rel=stylesheet><link href=../style/css/counter.css rel=stylesheet><link href=../style/css/toc.css rel=stylesheet><link href=../style/css/flink.css rel=stylesheet><link href=https://cdn.tonycrane.cc/jbmono/jetbrainsmono.css rel=stylesheet><link href=https://cdn.tonycrane.cc/lxgw/lxgwscreen.css rel=stylesheet><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body data-md-color-accent=red data-md-color-primary=white data-md-color-scheme=default dir=ltr> <input autocomplete=off class=md-toggle data-md-toggle=drawer id=__drawer type=checkbox> <input autocomplete=off class=md-toggle data-md-toggle=search id=__search type=checkbox> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a class=md-skip href=#nlp> 跳转至 </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav aria-label=页眉 class="md-header__inner md-grid"> <a aria-label="ZYJ's Notebook" class="md-header__button md-logo" data-md-component=logo href=.. title="ZYJ's Notebook"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"></path></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> ZYJ's Notebook </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> nlp常用工具包 </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input aria-label="Switch to dark mode" class=md-option data-md-color-accent=red data-md-color-media="(prefers-color-scheme: light)" data-md-color-primary=white data-md-color-scheme=default id=__palette_0 name=__palette type=radio> <label class="md-header__button md-icon" for=__palette_1 hidden title="Switch to dark mode"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"></path></svg> </label> <input aria-label="Switch to light mode" class=md-option data-md-color-accent=indigo data-md-color-media="(prefers-color-scheme: dark)" data-md-color-primary=indigo data-md-color-scheme=slate id=__palette_1 name=__palette type=radio> <label class="md-header__button md-icon" for=__palette_0 hidden title="Switch to light mode"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"></path></svg> </label> </form> <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input aria-label=搜索 autocapitalize=off autocomplete=off autocorrect=off class=md-search__input data-md-component=search-query name=query placeholder=搜索 required spellcheck=false type=text> <label class="md-search__icon md-icon" for=__search> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg> </label> <nav aria-label=查找 class=md-search__options> <a aria-label=分享 class="md-search__icon md-icon" data-clipboard data-clipboard-text data-md-component=search-share href=javascript:void(0) tabindex=-1 title=分享> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"></path></svg> </a> <button aria-label=清空当前内容 class="md-search__icon md-icon" tabindex=-1 title=清空当前内容 type=reset> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix tabindex=0> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> 正在初始化搜索引擎 </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a class=md-source data-md-component=source href=https://github.com/zyj1214566/zyj1214566.github.io title=前往仓库> <div class="md-source__icon md-icon"> <svg viewbox="0 0 448 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg> </div> <div class=md-source__repository> zyj1214566/zyj1214566.github.io </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav aria-label=标签 class=md-tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a class=md-tabs__link href=..> Home </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=./ class=md-tabs__link> Robo </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav aria-label=导航栏 class="md-nav md-nav--primary md-nav--lifted" data-md-level=0> <label class=md-nav__title for=__drawer> <a aria-label="ZYJ's Notebook" class="md-nav__button md-logo" data-md-component=logo href=.. title="ZYJ's Notebook"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"></path></svg> </a> ZYJ's Notebook </label> <div class=md-nav__source> <a class=md-source data-md-component=source href=https://github.com/zyj1214566/zyj1214566.github.io title=前往仓库> <div class="md-source__icon md-icon"> <svg viewbox="0 0 448 512" xmlns=http://www.w3.org/2000/svg><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg> </div> <div class=md-source__repository> zyj1214566/zyj1214566.github.io </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" id=__nav_1 type=checkbox> <div class="md-nav__link md-nav__container"> <a class=md-nav__link href=..> <span class=md-ellipsis> Home </span> </a> </div> <nav aria-expanded=false aria-labelledby=__nav_1_label class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> Home </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input checked class="md-nav__toggle md-toggle" id=__nav_2 type=checkbox> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex> <span class=md-ellipsis> Robo </span> <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded=true aria-labelledby=__nav_2_label class=md-nav data-md-level=1> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Robo </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" id=__toc type=checkbox> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> nlp常用工具包 </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> nlp常用工具包 </span> </a> <nav aria-label=目录 class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a class=md-nav__link href=#python> <span class=md-ellipsis> python字符串处理 </span> </a> <nav aria-label=python字符串处理 class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#_1> <span class=md-ellipsis> 去除字符串两端的特殊字符 </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_2> <span class=md-ellipsis> 替换字符串中的特殊字符 </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_3> <span class=md-ellipsis> 查找操作 </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_4> <span class=md-ellipsis> 判断操作 </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_5> <span class=md-ellipsis> 分割合并操作 </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_6> <span class=md-ellipsis> 帮助文档 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#_7> <span class=md-ellipsis> 正则表示基本语法 </span> </a> <nav aria-label=正则表示基本语法 class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#_8> <span class=md-ellipsis> 字符集合 </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_9> <span class=md-ellipsis> 或方法 </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_10> <span class=md-ellipsis> 精确匹配和最小匹配 </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#matchsearch> <span class=md-ellipsis> match与search </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_11> <span class=md-ellipsis> 字符串的替换和修改 </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#split> <span class=md-ellipsis> split 切片函数 </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#p> <span class=md-ellipsis> '(?P…)'命名组 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#nltk> <span class=md-ellipsis> NLTK工具包 </span> </a> <nav aria-label=NLTK工具包 class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#_12> <span class=md-ellipsis> 分词 </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#text> <span class=md-ellipsis> Text对象 </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_13> <span class=md-ellipsis> 停用词 </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_14> <span class=md-ellipsis> 词性标注 </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_15> <span class=md-ellipsis> 分块 </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_16> <span class=md-ellipsis> 命名实体 </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_17> <span class=md-ellipsis> 数据清洗实例 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#spacy> <span class=md-ellipsis> Spacy工具包 </span> </a> <nav aria-label=Spacy工具包 class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#_18> <span class=md-ellipsis> 命名体识别 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#_19> <span class=md-ellipsis> 结巴分词器 </span> </a> <nav aria-label=结巴分词器 class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#_20> <span class=md-ellipsis> 添加自定义词典 </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_21> <span class=md-ellipsis> 关键词抽取 </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_22> <span class=md-ellipsis> 词性标注 </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_23> <span class=md-ellipsis> 词云展示 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../nlp2/ class=md-nav__link> <span class=md-ellipsis> Nlp2 </span> </a> </li> <li class=md-nav__item> <a href=../pandas/ class=md-nav__link> <span class=md-ellipsis> pandas </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav aria-label=目录 class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a class=md-nav__link href=#python> <span class=md-ellipsis> python字符串处理 </span> </a> <nav aria-label=python字符串处理 class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#_1> <span class=md-ellipsis> 去除字符串两端的特殊字符 </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_2> <span class=md-ellipsis> 替换字符串中的特殊字符 </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_3> <span class=md-ellipsis> 查找操作 </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_4> <span class=md-ellipsis> 判断操作 </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_5> <span class=md-ellipsis> 分割合并操作 </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_6> <span class=md-ellipsis> 帮助文档 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#_7> <span class=md-ellipsis> 正则表示基本语法 </span> </a> <nav aria-label=正则表示基本语法 class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#_8> <span class=md-ellipsis> 字符集合 </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_9> <span class=md-ellipsis> 或方法 </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_10> <span class=md-ellipsis> 精确匹配和最小匹配 </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#matchsearch> <span class=md-ellipsis> match与search </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_11> <span class=md-ellipsis> 字符串的替换和修改 </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#split> <span class=md-ellipsis> split 切片函数 </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#p> <span class=md-ellipsis> '(?P…)'命名组 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#nltk> <span class=md-ellipsis> NLTK工具包 </span> </a> <nav aria-label=NLTK工具包 class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#_12> <span class=md-ellipsis> 分词 </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#text> <span class=md-ellipsis> Text对象 </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_13> <span class=md-ellipsis> 停用词 </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_14> <span class=md-ellipsis> 词性标注 </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_15> <span class=md-ellipsis> 分块 </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_16> <span class=md-ellipsis> 命名实体 </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_17> <span class=md-ellipsis> 数据清洗实例 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#spacy> <span class=md-ellipsis> Spacy工具包 </span> </a> <nav aria-label=Spacy工具包 class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#_18> <span class=md-ellipsis> 命名体识别 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=#_19> <span class=md-ellipsis> 结巴分词器 </span> </a> <nav aria-label=结巴分词器 class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#_20> <span class=md-ellipsis> 添加自定义词典 </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_21> <span class=md-ellipsis> 关键词抽取 </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_22> <span class=md-ellipsis> 词性标注 </span> </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#_23> <span class=md-ellipsis> 词云展示 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=nlp><span>nlp<span class=heti-spacing> </span></span>常用工具包<a class=headerlink href=#nlp title="anchor link to this section for reference"><span><span class=heti-spacing> </span>¶</span></a></h1> <div style="margin-top: -30px; font-size: 0.75em; opacity: 0.7;"> <p><span class=twemoji><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M12 2A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10h-2a8 8 0 0 1-8 8 8 8 0 0 1-8-8 8 8 0 0 1 8-8V2m6.78 1a.69.69 0 0 0-.48.2l-1.22 1.21 2.5 2.5L20.8 5.7c.26-.26.26-.7 0-.95L19.25 3.2c-.13-.13-.3-.2-.47-.2m-2.41 2.12L9 12.5V15h2.5l7.37-7.38-2.5-2.5Z"></path></svg></span> 约<span class=heti-skip><span class=heti-spacing> </span>3391<span class=heti-spacing> </span></span>个字 <span class=twemoji><svg viewbox="0 0 640 512" xmlns=http://www.w3.org/2000/svg><path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3l89.3 89.4-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"></path></svg></span> <span>298<span class=heti-spacing> </span></span>行代码 <span class=twemoji><svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M12 20c4.42 0 8-3.58 8-8s-3.58-8-8-8-8 3.58-8 8 3.58 8 8 8m0-18c5.5 0 10 4.5 10 10s-4.5 10-10 10C6.47 22 2 17.5 2 12S6.5 2 12 2m.5 11H11V7h1.5v4.26l3.7-2.13.75 1.3L12.5 13Z"></path></svg></span> 预计阅读时间<span class=heti-skip><span class=heti-spacing> </span>17<span class=heti-spacing> </span></span>分钟</p> </div> <h2 id=python><span>python<span class=heti-spacing> </span></span>字符串处理<a class=headerlink href=#python title="anchor link to this section for reference"><span><span class=heti-spacing> </span>¶</span></a></h2> <h3 id=_1>去除字符串两端的特殊字符<a class=headerlink href=#_1 title="anchor link to this section for reference"><span><span class=heti-spacing> </span>¶</span></a></h3> <ol> <li><div class=highlight><pre><span></span><code><span class=n>input_str</span> <span class=o>=</span> <span class=s1>' 今天风和日丽 '</span>
<span class=n>input_str</span><span class=o>.</span><span class=n>strip</span><span class=p>()</span>
</code></pre></div> output:'今天风和日丽'</li> </ol> <p></p><div class=highlight><pre><span></span><code><span class=n>input_str</span><span class=o>.</span><span class=n>rstrip</span><span class=p>()</span>
</code></pre></div> output:' 今天风和日丽' <p></p><div class=highlight><pre><span></span><code><span class=n>input_str</span><span class=o>.</span><span class=n>lstrip</span><span class=p>()</span>
</code></pre></div> output:'今天风和日丽 ' <ol> <li><div class=highlight><pre><span></span><code><span class=n>input_str</span> <span class=o>=</span> <span class=s1>'AAA今天风和日丽AAA'</span>
<span class=n>input_str</span><span class=o>.</span><span class=n>strip</span><span class=p>(</span><span class=s1>'A'</span><span class=p>)</span>
</code></pre></div> output:'今天风和日丽' <div class=highlight><pre><span></span><code><span class=n>input_str</span><span class=o>.</span><span class=n>rstrip</span><span class=p>(</span><span class=s1>'A'</span><span class=p>)</span>
</code></pre></div> output:'AAA今天风和日丽' <div class=highlight><pre><span></span><code><span class=n>input_str</span><span class=o>.</span><span class=n>lstrip</span><span class=p>(</span><span class=s1>'A'</span><span class=p>)</span>
</code></pre></div> output:'今天风和日丽AAA'</li> </ol> <h3 id=_2>替换字符串中的特殊字符<a class=headerlink href=#_2 title="anchor link to this section for reference"><span><span class=heti-spacing> </span>¶</span></a></h3> <p></p><div class=highlight><pre><span></span><code><span class=n>input_str</span> <span class=o>=</span> <span class=s1>' 今天风和日丽今天 '</span>
<span class=n>input_str</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s1>'今天'</span><span class=p>,</span><span class=s1>'昨天'</span><span class=p>)</span>
</code></pre></div> output:' 昨天风和日丽昨天 ' <p></p><div class=highlight><pre><span></span><code><span class=n>input_str</span> <span class=o>=</span> <span class=s1>'今天风和日丽今天'</span>
<span class=n>input_str</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s1>'今天'</span><span class=p>,</span><span class=s1>''</span><span class=p>)</span>
</code></pre></div> output:'风和日丽' <h3 id=_3>查找操作<a class=headerlink href=#_3 title="anchor link to this section for reference"><span><span class=heti-spacing> </span>¶</span></a></h3> <p></p><div class=highlight><pre><span></span><code><span class=n>input_str</span> <span class=o>=</span> <span class=s1>'今天风和日丽今天'</span>
<span class=n>input_str</span><span class=o>.</span><span class=n>find</span><span class=p>(</span><span class=s1>'今天'</span><span class=p>)</span>
</code></pre></div> output:0 <h3 id=_4>判断操作<a class=headerlink href=#_4 title="anchor link to this section for reference"><span><span class=heti-spacing> </span>¶</span></a></h3> <ol> <li>判断是否为字母<span class=heti-skip><span class=heti-spacing> </span>(<span class=heti-spacing> </span></span>全部是<span><span class=heti-spacing> </span>)</span> <div class=highlight><pre><span></span><code>   <span class=n>input_str</span> <span class=o>=</span> <span class=s1>' 今天风和日丽 '</span>
   <span class=n>input_str</span><span class=o>.</span><span class=n>isalpha</span><span class=p>()</span>
   <span class=err>```</span>
   <span class=n>output</span><span class=p>:</span><span class=kc>False</span>

<span class=mf>2.</span> <span class=n>数字</span><span class=err>：</span>
<span class=err>```</span><span class=n>python</span>
<span class=n>input_str</span><span class=o>.</span><span class=n>isdigit</span><span class=p>()</span>
</code></pre></div></li> </ol> <h3 id=_5>分割合并操作<a class=headerlink href=#_5 title="anchor link to this section for reference"><span><span class=heti-spacing> </span>¶</span></a></h3> <ol> <li><div class=highlight><pre><span></span><code><span class=n>input_str</span> <span class=o>=</span> <span class=s1>'今天 风和日丽 的,天气 不错'</span>
<span class=n>input_str</span> <span class=o>=</span> <span class=n>input_str</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s1>' '</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>input_str</span><span class=p>)</span>
</code></pre></div> output:['今天', '风和日丽', '的,天气', '不错'] <div class=highlight><pre><span></span><code>   <span class=s1>' '</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>input_str</span><span class=p>)</span>
</code></pre></div> output1:'今天 风和日丽 的,天气 不错' <div class=highlight><pre><span></span><code>   <span class=s1>''</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>input_str</span><span class=p>)</span>
</code></pre></div> output2:'今天风和日丽的,天气不错'</li> </ol> <h3 id=_6>帮助文档<a class=headerlink href=#_6 title="anchor link to this section for reference"><span><span class=heti-spacing> </span>¶</span></a></h3> <div class=highlight><pre><span></span><code><span class=n>help</span><span class=p>(</span><span class=nb>str</span><span class=p>)</span>
</code></pre></div> <h2 id=_7>正则表示基本语法<a class=headerlink href=#_7 title="anchor link to this section for reference"><span><span class=heti-spacing> </span>¶</span></a></h2> <p>图片<span><span class=heti-spacing> </span>1</span></p> <ul> <li>指定好匹配的模式<span><span class=heti-spacing> </span>-pattern</span></li> <li>选择相应的方法<span class=heti-skip><span class=heti-spacing> </span>-match,search<span class=heti-spacing> </span></span>等</li> <li> <p>得到匹配结果<span><span class=heti-spacing> </span>-group</span></p> </li> <li> <p><span>re.match #<span class=heti-spacing> </span></span>从开始位置开始匹配，如果开头没有则无</p> </li> <li><span>re.search #<span class=heti-spacing> </span></span>搜索整个字符串</li> <li><span>re.findall #<span class=heti-spacing> </span></span>搜索整个字符串，返回一个<span><span class=heti-spacing> </span>list</span></li> </ul> <h3 id=_8>字符集合<a class=headerlink href=#_8 title="anchor link to this section for reference"><span><span class=heti-spacing> </span>¶</span></a></h3> <ul> <li><span>[]<span class=heti-spacing> </span></span>指定包含字符</li> <li><span>[a-zA-Z]<span class=heti-spacing> </span></span>指定所有英文字母的大小写</li> <li><span>[^a-zA-Z]<span class=heti-spacing> </span></span>指定不匹配所有英文字母 例子： 1. <div class=highlight><pre><span></span><code><span class=nb>input</span> <span class=o>=</span> <span class=s1>'自然语言处理很重要。 123abc'</span>
<span class=kn>import</span><span class=w> </span><span class=nn>re</span>
<span class=n>pattern</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>compile</span><span class=p>(</span><span class=sa>r</span><span class=s1>'.'</span><span class=p>)</span>
<span class=n>re</span><span class=o>.</span><span class=n>findall</span><span class=p>(</span><span class=n>pattern</span><span class=p>,</span><span class=nb>input</span><span class=p>)</span>
</code></pre></div> output: ['自', '然', '语', '言', '处', '理', '很', '重', '要', '。', ' ', '1', '2', '3', 'a', 'b', 'c']</li> </ul> <p>2. </p><div class=highlight><pre><span></span><code><span class=nb>input</span> <span class=o>=</span> <span class=s1>'自然语言处理很重要。 123abc'</span>
<span class=kn>import</span><span class=w> </span><span class=nn>re</span>
<span class=n>pattern</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>compile</span><span class=p>(</span><span class=sa>r</span><span class=s1>'[abc]'</span><span class=p>)</span>
<span class=n>re</span><span class=o>.</span><span class=n>findall</span><span class=p>(</span><span class=n>pattern</span><span class=p>,</span><span class=nb>input</span><span class=p>)</span>
</code></pre></div> output: ['a', 'b', 'c'] <p>3. </p><div class=highlight><pre><span></span><code><span class=nb>input</span> <span class=o>=</span> <span class=s1>'自然语言处理很重要。 123abc'</span>
<span class=kn>import</span><span class=w> </span><span class=nn>re</span>
<span class=n>pattern</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>compile</span><span class=p>(</span><span class=sa>r</span><span class=s1>'[a-zA-Z]'</span><span class=p>)</span>
<span class=n>re</span><span class=o>.</span><span class=n>findall</span><span class=p>(</span><span class=n>pattern</span><span class=p>,</span><span class=nb>input</span><span class=p>)</span>
</code></pre></div> output: ['a', 'b', 'c'] <p>4. </p><div class=highlight><pre><span></span><code><span class=nb>input</span> <span class=o>=</span> <span class=s1>'自然语言处理很重要。 123abc'</span>
<span class=kn>import</span><span class=w> </span><span class=nn>re</span>
<span class=n>pattern</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>compile</span><span class=p>(</span><span class=sa>r</span><span class=s1>'[^a-zA-Z]'</span><span class=p>)</span>
<span class=n>re</span><span class=o>.</span><span class=n>findall</span><span class=p>(</span><span class=n>pattern</span><span class=p>,</span><span class=nb>input</span><span class=p>)</span>
</code></pre></div> output:['自', '然', '语', '言', '处', '理', '很', '重', '要', '。', ' ', '1', '2', '3'] <h3 id=_9>或方法<a class=headerlink href=#_9 title="anchor link to this section for reference"><span><span class=heti-spacing> </span>¶</span></a></h3> <p>1. </p><div class=highlight><pre><span></span><code><span class=nb>input</span> <span class=o>=</span> <span class=s1>'自然语言处理很重要。 123abc'</span>
<span class=kn>import</span><span class=w> </span><span class=nn>re</span>
<span class=n>pattern</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>compile</span><span class=p>(</span><span class=sa>r</span><span class=s1>'[a-zA-Z]|[0-9]'</span><span class=p>)</span>
<span class=n>re</span><span class=o>.</span><span class=n>findall</span><span class=p>(</span><span class=n>pattern</span><span class=p>,</span><span class=nb>input</span><span class=p>)</span>
</code></pre></div> output:['1', '2', '3', 'a', 'b', 'c'] <h3 id=_10>精确匹配和最小匹配<a class=headerlink href=#_10 title="anchor link to this section for reference"><span><span class=heti-spacing> </span>¶</span></a></h3> <ol> <li> <p>精确匹配 '{m}'精确匹配m次 </p><div class=highlight><pre><span></span><code><span class=nb>input</span> <span class=o>=</span> <span class=s1>'自然语言处理很重要。 12abc789'</span>
<span class=kn>import</span><span class=w> </span><span class=nn>re</span>
<span class=n>pattern</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>compile</span><span class=p>(</span><span class=sa>r</span><span class=s1>'\d</span><span class=si>{3}</span><span class=s1>'</span><span class=p>)</span>
<span class=n>re</span><span class=o>.</span><span class=n>findall</span><span class=p>(</span><span class=n>pattern</span><span class=p>,</span><span class=nb>input</span><span class=p>)</span>
</code></pre></div> output: ['789'] </li> <li> <p>最小匹配 '{m,n}'最少匹配m次，最多匹配n次 </p><div class=highlight><pre><span></span><code><span class=nb>input</span> <span class=o>=</span> <span class=s1>'自然语言处理很重要。 12abc789'</span>
<span class=kn>import</span><span class=w> </span><span class=nn>re</span>
<span class=n>pattern</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>compile</span><span class=p>(</span><span class=sa>r</span><span class=s1>'\d{1,3}'</span><span class=p>)</span>
<span class=n>re</span><span class=o>.</span><span class=n>findall</span><span class=p>(</span><span class=n>pattern</span><span class=p>,</span><span class=nb>input</span><span class=p>)</span>
</code></pre></div> output: ['12', '789'] </li> </ol> <h3 id=matchsearch><span>match<span class=heti-spacing> </span></span>与<span><span class=heti-spacing> </span>search</span><a class=headerlink href=#matchsearch title="anchor link to this section for reference"><span><span class=heti-spacing> </span>¶</span></a></h3> <p></p><div class=highlight><pre><span></span><code><span class=n>input2</span> <span class=o>=</span> <span class=s1>'123自然语言处理很重要'</span>
<span class=kn>import</span><span class=w> </span><span class=nn>re</span>
<span class=n>pattern</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>compile</span><span class=p>(</span><span class=sa>r</span><span class=s1>'\d'</span><span class=p>)</span>
<span class=n>match</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>match</span><span class=p>(</span><span class=n>pattern</span><span class=p>,</span><span class=n>input2</span><span class=p>)</span>
<span class=k>match</span><span class=o>.</span><span class=n>group</span><span class=p>()</span>
</code></pre></div> output:'1' <h3 id=_11>字符串的替换和修改<a class=headerlink href=#_11 title="anchor link to this section for reference"><span><span class=heti-spacing> </span>¶</span></a></h3> <p>在目标字符串中规格规则查找匹配的字符串，再把它们替换成指定的字符串。你可以指定一个最多替换次数，否则将替换所有的匹配到的字符串。 sub( rule ,replace ,target [.count]) subn(rule ,replace , target [.count] ) 第一个参数是正则规则，第二个参数是指定的用来替换的字符串，第三个参数是目标字符串，第四个参数是最多替换次数。 sub 返回一个被替换的字符串 subn 返回一个元组，第一个元素是被替换的字符串，第二个元素是一个数字，表明产生了多少次替换。 1. </p><div class=highlight><pre><span></span><code><span class=n>input2</span> <span class=o>=</span> <span class=s1>'123自然语言处理很重要'</span>
<span class=kn>import</span><span class=w> </span><span class=nn>re</span>
<span class=n>pattern</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>compile</span><span class=p>(</span><span class=sa>r</span><span class=s1>'\d'</span><span class=p>)</span>
<span class=n>re</span><span class=o>.</span><span class=n>sub</span><span class=p>(</span><span class=n>pattern</span><span class=p>,</span><span class=s2>"数字"</span><span class=p>,</span><span class=n>input2</span><span class=p>)</span>
</code></pre></div> output:'数字数字数字自然语言处理很重要' 2. <div class=highlight><pre><span></span><code><span class=n>input2</span> <span class=o>=</span> <span class=s1>'123自然语言处理很重要'</span>
<span class=kn>import</span><span class=w> </span><span class=nn>re</span>
<span class=n>pattern</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>compile</span><span class=p>(</span><span class=sa>r</span><span class=s1>'\d'</span><span class=p>)</span>
<span class=n>re</span><span class=o>.</span><span class=n>subn</span><span class=p>(</span><span class=n>pattern</span><span class=p>,</span><span class=s2>"数字"</span><span class=p>,</span><span class=n>input2</span><span class=p>)</span> 
</code></pre></div> output:('数字数字数字自然语言处理很重要', 3) <h3 id=split><span>split<span class=heti-spacing> </span></span>切片函数<a class=headerlink href=#split title="anchor link to this section for reference"><span><span class=heti-spacing> </span>¶</span></a></h3> <p>使用指定的正则规则在目标字符串中查找匹配的字符串，用它们作为分界，把字符串切片。 split( rule , target [,maxsplit] ) 第一个参数是正则规则，第二个参数是目标字符串，第三个参数是最多切片次数,返回一个被切完的子字符串的列表 </p><div class=highlight><pre><span></span><code><span class=n>input3</span> <span class=o>=</span> <span class=s1>'自然语言处理很重要123机器学习456深度学习'</span>
<span class=kn>import</span><span class=w> </span><span class=nn>re</span>
<span class=n>pattern</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>compile</span><span class=p>(</span><span class=sa>r</span><span class=s1>'\d+'</span><span class=p>)</span>
<span class=n>re</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=n>pattern</span><span class=p>,</span><span class=n>input3</span><span class=p>)</span>
</code></pre></div> output:['自然语言处理很重要', '机器学习', '深度学习'] <h3 id=p>'(?P…<span>)'<span class=heti-spacing> </span></span>命名组<a class=headerlink href=#p title="anchor link to this section for reference"><span><span class=heti-spacing> </span>¶</span></a></h3> <p>&lt;…<span>&gt;'<span class=heti-spacing> </span></span>里面是你给这个组起的名字 1. </p><div class=highlight><pre><span></span><code><span class=n>input3</span> <span class=o>=</span> <span class=s1>'自然语言处理很重要123机器学习456深度学习'</span>
<span class=kn>import</span><span class=w> </span><span class=nn>re</span>
<span class=n>pattern</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>compile</span><span class=p>(</span><span class=sa>r</span><span class=s1>'(?P&lt;dota&gt;\d+)(?P&lt;lol&gt;\D+)'</span><span class=p>)</span>
<span class=n>m</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>search</span><span class=p>(</span><span class=n>pattern</span><span class=p>,</span><span class=n>input3</span><span class=p>)</span>
<span class=n>m</span><span class=o>.</span><span class=n>group</span><span class=p>(</span><span class=s1>'dota'</span><span class=p>)</span>
</code></pre></div> output:'123' <p>2. </p><div class=highlight><pre><span></span><code><span class=n>input3</span> <span class=o>=</span> <span class=s1>'自然语言处理很重要123机器学习456深度学习'</span>
<span class=kn>import</span><span class=w> </span><span class=nn>re</span>
<span class=n>pattern</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>compile</span><span class=p>(</span><span class=sa>r</span><span class=s1>'(?P&lt;dota&gt;\d+)(?P&lt;lol&gt;\D+)'</span><span class=p>)</span>
<span class=n>m</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>search</span><span class=p>(</span><span class=n>pattern</span><span class=p>,</span><span class=n>input3</span><span class=p>)</span>
<span class=n>m</span><span class=o>.</span><span class=n>group</span><span class=p>(</span><span class=s1>'lol'</span><span class=p>)</span>
</code></pre></div> output:'机器学习' <h2 id=nltk><span>NLTK<span class=heti-spacing> </span></span>工具包<a class=headerlink href=#nltk title="anchor link to this section for reference"><span><span class=heti-spacing> </span>¶</span></a></h2> <p>下载需要翻墙 </p><div class=highlight><pre><span></span><code><span class=kn>import</span><span class=w> </span><span class=nn>nltk</span>
<span class=n>nltk</span><span class=o>.</span><span class=n>download</span><span class=p>()</span>
</code></pre></div> <h3 id=_12>分词<a class=headerlink href=#_12 title="anchor link to this section for reference"><span><span class=heti-spacing> </span>¶</span></a></h3> <p></p><div class=highlight><pre><span></span><code><span class=kn>import</span><span class=w> </span><span class=nn>nltk</span>
<span class=kn>from</span><span class=w> </span><span class=nn>nltk.tokenize</span><span class=w> </span><span class=kn>import</span> <span class=n>word_tokenize</span>
<span class=kn>from</span><span class=w> </span><span class=nn>nltk.text</span><span class=w> </span><span class=kn>import</span> <span class=n>Text</span>
<span class=n>input_str</span> <span class=o>=</span> <span class=s2>"Today's weather is good, very windy and suny, we have no classes in the afternoon,we have to play baketball tomorrow."</span> 
<span class=n>tokens</span> <span class=o>=</span> <span class=n>word_tokenize</span><span class=p>(</span><span class=n>input_str</span><span class=p>)</span>
<span class=n>tokens</span> <span class=o>=</span><span class=p>[</span><span class=n>word</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span> <span class=k>for</span> <span class=n>word</span> <span class=ow>in</span> <span class=n>tokens</span><span class=p>]</span>
<span class=nb>print</span><span class=p>(</span><span class=n>tokens</span><span class=p>[:</span><span class=mi>5</span><span class=p>])</span>
</code></pre></div> output:['today', "'s", 'weather', 'is', 'good'] <h3 id=text><span>Text<span class=heti-spacing> </span></span>对象<a class=headerlink href=#text title="anchor link to this section for reference"><span><span class=heti-spacing> </span>¶</span></a></h3> <p></p><div class=highlight><pre><span></span><code><span class=n>help</span><span class=p>(</span><span class=n>nltk</span><span class=o>.</span><span class=n>text</span><span class=p>)</span>
</code></pre></div> <div class=highlight><pre><span></span><code><span class=n>t</span> <span class=o>=</span> <span class=n>Text</span><span class=p>(</span><span class=n>tokens</span><span class=p>)</span>
<span class=n>t</span><span class=o>.</span><span class=n>count</span><span class=p>(</span><span class=s1>'good'</span><span class=p>)</span>
<span class=n>t</span><span class=o>.</span><span class=n>index</span><span class=p>(</span><span class=s1>'good'</span><span class=p>)</span>
<span class=n>t</span><span class=o>.</span><span class=n>plot</span><span class=p>(</span><span class=mi>8</span><span class=p>)</span>
</code></pre></div> output: 1 4 图片2 <h3 id=_13>停用词<a class=headerlink href=#_13 title="anchor link to this section for reference"><span><span class=heti-spacing> </span>¶</span></a></h3> <p></p><div class=highlight><pre><span></span><code><span class=kn>import</span><span class=w> </span><span class=nn>nltk</span>
<span class=kn>from</span><span class=w> </span><span class=nn>nltk.corpus</span><span class=w> </span><span class=kn>import</span> <span class=n>stopwords</span>
<span class=nb>print</span><span class=p>(</span><span class=n>stopwords</span><span class=o>.</span><span class=n>raw</span><span class=p>(</span><span class=s1>'english'</span><span class=p>)</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s1>'</span><span class=se>\n</span><span class=s1>'</span><span class=p>,</span><span class=s1>' '</span><span class=p>))</span>
</code></pre></div> output:i me my myself we our ours ourselves you you're you've you'll you'd your yours yourself yourselves he him his himself she she's her hers herself it it's its itself they them their theirs themselves what which who whom this that that'll these those am is are was were be been being have has had having do does did doing a an the and but if or because as until while of at by for with about against between into through during before after above below to from up down in out on off over under again further then once here there when where why how all any both each few more most other some such no nor not only own same so than too very s t can will just don don't should should've now d ll m o re ve y ain aren aren't couldn couldn't didn didn't doesn doesn't hadn hadn't hasn hasn't haven haven't isn isn't ma mightn mightn't mustn mustn't needn needn't shan shan't shouldn shouldn't wasn wasn't weren weren't won won't wouldn wouldn't <p></p><div class=highlight><pre><span></span><code><span class=kn>import</span><span class=w> </span><span class=nn>nltk</span>
<span class=kn>from</span><span class=w> </span><span class=nn>nltk.corpus</span><span class=w> </span><span class=kn>import</span> <span class=n>stopwords</span>
<span class=nb>print</span><span class=p>(</span><span class=n>stopwords</span><span class=o>.</span><span class=n>raw</span><span class=p>(</span><span class=s1>'chinese'</span><span class=p>)</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s1>'</span><span class=se>\n</span><span class=s1>'</span><span class=p>,</span><span class=s1>' '</span><span class=p>))</span>
</code></pre></div> output:一 一下 一些 一切 一则 一天 一定 一方面 一旦 一时 一来 一样 一次 一片 一直 一致 一般 一起 一边 一面 万一 上下 上升 上去 上来 上述 上面 下列 下去 下来 下面 不一 不久 不仅 不会 不但 不光 不单 不变 不 只 不可 不同 不够 不如 不得 不怕 不惟 不成 不拘 不敢 不断 不是 不比 不然 不特 不独 不管 不能 不要 不论 不足 不过 不问 与 与其 与否 与此同时 专门 且 两者 严格 严重 个 个人 个别 中小 中间 丰富 临 为 为主 为了 为什么 为什麽 为何 为着 主张 主要 举行 乃 乃至 么 之 之一 之前 之后 之後 之所以 之类 乌乎 乎 乘 也 也好 也是 也罢 了 了解 争取 于 于是 于是乎 云云 互相 产生 人们 人家 什么 什么样 什麽 今后 今天 今年 今後 仍然 从 从事 从而 他 他人 他们 他的 代替 以 以上 以下 以为 以便 以免 以前 以及 以后 以外 以後 以来 以至 以至于 以致 们 任 任何 任凭 任务 企图 伟大 似乎 似的 但 但是 何 何况 何处 何时 作为 你 你们 你的 使得 使用 例如 依 依照 依靠 促进 保持 俺 俺们 倘 倘使 倘或 倘然 倘若 假使 假如 假若 做到 像 允许 充分 先后 先後 先生 全部 全面 兮 共同 关于 其 其一 其中 其二 其他 其余 其它 其实 其次 具体 具体地说 具体说来 具有 再者 再说 冒 冲 决定 况且 准备 几 几乎 几时 凭 凭借 出去 出来 出现 分别 则 别 别的 别说 到 前后 前者 前进 前面 加之 加以 加入 加强 十分 即 即令 即使 即便 即或 即若 却不 原来 又 及 及其 及时 及至 双方 反之 反应 反映 反过来 反过来说 取得 受到 变成 另 另一方面 另外 只是 只有 只要 只限 叫 叫做 召开 叮咚 可 可以 可是 可能 可见 各 各个 各人 各位 各地 各种 各级 各自 合理 同 同一 同时 同样 后来 后面 向 向着 吓 吗 否则 吧 吧哒 吱 呀 呃 呕 呗 呜 呜呼 呢 周围 呵 呸 呼哧 咋 和 咚 咦 咱 咱们 咳 哇 哈 哈哈 哉 哎 哎呀 哎哟 哗 哟 哦 哩 哪 哪个 哪些 哪儿 哪天 哪年 哪怕 哪样 哪边 哪里 哼 哼唷 唉 啊 啐 啥 啦 啪达 喂 喏 喔唷 嗡嗡 嗬 嗯 嗳 嘎 嘎登 嘘 嘛 嘻 嘿 因 因为 因此 因而 固然 在 在下 地 坚决 坚持 基本 处理 复杂 多 多少 多数 多次 大力 大多数 大大 大家 大批 大约 大量 失去 她 她们 她的 好的 好象 如 如上所述 如下 如何 如其 如果 如此 如若 存在 宁 宁可 宁愿 宁肯 它 它们 它们的 它的 安全 完全 完成 实现 实际 宣布 容易 密切 对 对于 对应 将 少数 尔后 尚且 尤其 就 就是 就是说 尽 尽管 属于 岂但 左右 巨大 巩固 己 已经 帮助 常常 并 并不 并不是 并且 并没有 广大 广泛 应当 应用 应该 开外 开始 开展 引起 强烈 强调 归 当 当前 当时 当然 当着 形成 彻底 彼 彼此 往 往往 待 後来 後面 得 得出 得到 心里 必然 必要 必须 怎 怎么 怎么办 怎么样 怎样 怎麽 总之 总是 总的来看 总的来说 总的说来 总结 总而言之 恰恰相反 您 意思 愿意 慢说 成为 我 我们 我的 或 或是 或者 战斗 所 所 以 所有 所谓 打 扩大 把 抑或 拿 按 按照 换句话说 换言之 据 掌握 接着 接著 故 故此 整个 方便 方面 旁人 无宁 无法 无论 既 既是 既然 时候 明显 明确 是 是否 是的 显然 显著 普通 普遍 更加 曾经 替 最后 最大 最好 最後 最近 最高 有 有些 有关 有利 有力 有所 有效 有时 有点 有的 有着 有著 望 朝 朝着 本 本着 来 来着 极了 构成 果然 果真 某 某个 某些 根据 根本 欢迎 正在 正如 正常 此 此外 此时 此间 毋宁 每 每个 每天 每年 每当 比 比如 比方 比较 毫不 没有 沿 沿着 注意 深入 清楚 满足 漫说 焉 然则 然后 然後 然而 照 照着 特别是 特殊 特点 现代 现在 甚么 甚而 甚至 用 由 由于 由此可见 的 的话 目前 直到 直接 相似 相信 相反 相同 相对 相对而言 相应 相当 相等 省得 看出 看到 看来 看看 看见 真是 真正 着 着呢 矣 知道 确定 离 积极 移动 突出 突然 立即 第 等 等等 管 紧接着 纵 纵令 纵使 纵然 练习 组成 经 经常 经 过 结合 结果 给 绝对 继续 继而 维持 综上所述 罢了 考虑 者 而 而且 而况 而外 而已 而是 而言 联系 能 能否 能够 腾 自 自个儿 自从 自各儿 自家 自己 自身 至 至于 良好 若 若是 若非 范围 莫若 获得 虽 虽则 虽然 虽说 行为 行动 表明 表示 被 要 要不 要不是 要不然 要么 要是 要求 规定 觉得 认为 认真 认识 让 许多 论 设使 设若 该 说明 诸位 谁 谁知 赶 起 起来 起见 趁 趁着 越是 跟 转动 转变 转贴 较 较之 边 达 到 迅速 过 过去 过来 运用 还是 还有 这 这个 这么 这么些 这么样 这么点儿 这些 这会儿 这儿 这就是说 这时 这样 这点 这种 这边 这里 这麽 进入 进步 进而 进行 连 连同 适应 适当 适用 逐步 逐渐 通常 通过 造成 遇到 遭到 避免 那 那个 那么 那么些 那么样 那些 那会儿 那儿 那时 那样 那边 那里 那麽 部分 鄙人 采取 里面 重大 重新 重要 鉴于 问题 防止 阿 附近 限制 除 除了 除此之外 除非 随 随着 随著 集中 需要 非 但 非常 非徒 靠 顺 顺着 首先 高兴 是不是 <p></p><div class=highlight><pre><span></span><code><span class=kn>from</span><span class=w> </span><span class=nn>nltk.corpus</span><span class=w> </span><span class=kn>import</span> <span class=n>stopwords</span>
<span class=kn>from</span><span class=w> </span><span class=nn>nltk.tokenize</span><span class=w> </span><span class=kn>import</span> <span class=n>word_tokenize</span>
<span class=kn>from</span><span class=w> </span><span class=nn>nltk.text</span><span class=w> </span><span class=kn>import</span> <span class=n>Text</span>
<span class=n>input_str</span> <span class=o>=</span> <span class=s2>"Today's weather is good, very windy and suny, we have no classes in the afternoon,we have to play baketball tomorrow."</span> 
<span class=n>tokens</span> <span class=o>=</span> <span class=n>word_tokenize</span><span class=p>(</span><span class=n>input_str</span><span class=p>)</span>
<span class=n>test_words</span> <span class=o>=</span> <span class=p>[</span><span class=n>word</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span><span class=k>for</span> <span class=n>word</span> <span class=ow>in</span> <span class=n>tokens</span><span class=p>]</span>
<span class=n>test_words_set</span> <span class=o>=</span> <span class=nb>set</span><span class=p>(</span><span class=n>test_words</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>test_words_set</span><span class=o>.</span><span class=n>intersection</span><span class=p>(</span><span class=nb>set</span><span class=p>(</span><span class=n>stopwords</span><span class=o>.</span><span class=n>words</span><span class=p>(</span><span class=s1>'english'</span><span class=p>))))</span>
</code></pre></div> output:{'have', 'to', 'and', 'no', 'is', 'in', 'very', 'the', 'we'} <p>过滤掉停用词<span><span class=heti-spacing> </span>:</span> </p><div class=highlight><pre><span></span><code><span class=n>filtered</span> <span class=o>=</span> <span class=p>[</span><span class=n>w</span> <span class=k>for</span> <span class=n>w</span> <span class=ow>in</span> <span class=n>test_words_set</span> <span class=k>if</span><span class=p>(</span><span class=n>w</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>stopwords</span><span class=o>.</span><span class=n>words</span><span class=p>(</span><span class=s1>'english'</span><span class=p>))]</span>
<span class=nb>print</span><span class=p>(</span><span class=n>filtered</span><span class=p>)</span>
</code></pre></div> output:[',', 'classes', 'afternoon', "'s", 'baketball', 'suny', 'windy', 'today', 'weather', 'good', '.', 'play', 'tomorrow'] <h3 id=_14>词性标注<a class=headerlink href=#_14 title="anchor link to this section for reference"><span><span class=heti-spacing> </span>¶</span></a></h3> <table> <thead> <tr> <th>缩写</th> <th>全称</th> <th>中文释义</th> <th>示例</th> </tr> </thead> <tbody> <tr> <td>CC</td> <td>Coordinating conjunction</td> <td>连接词</td> <td>and, or, but</td> </tr> <tr> <td>CD</td> <td>Cardinal number</td> <td>基数词</td> <td>one, two, three</td> </tr> <tr> <td>DT</td> <td>Determiner</td> <td>限定词</td> <td>this, that, these, those, no, some, any</td> </tr> <tr> <td>EX</td> <td>Existential there</td> <td>存在句</td> <td>There is a book on the table.</td> </tr> <tr> <td>FW</td> <td>Foreign word</td> <td>外来词</td> <td>ketchup, sushi</td> </tr> <tr> <td>IN</td> <td>Preposition or subordinating conjunction</td> <td>介词或从属连词</td> <td>in, on, at, because, if</td> </tr> <tr> <td>JJ</td> <td>Adjective</td> <td>形容词或序数词</td> <td>big, small, first</td> </tr> <tr> <td>JJR</td> <td>Adjective, comparative</td> <td>形容词比较级</td> <td>bigger, smaller</td> </tr> <tr> <td>JJS</td> <td>Adjective, superlative</td> <td>形容词最高级</td> <td>biggest, smallest</td> </tr> <tr> <td>LS</td> <td>List item marker</td> <td>列表标示</td> <td>1., 2., A., B.</td> </tr> <tr> <td>MD</td> <td>Modal</td> <td>情态助动词</td> <td>can, could, will, would</td> </tr> <tr> <td>NN</td> <td>Noun, singular or mass</td> <td>常用名词 单数形式</td> <td>book, water</td> </tr> <tr> <td>NNS</td> <td>Noun, plural</td> <td>常用名词 复数形式</td> <td>books, tables</td> </tr> <tr> <td>NNP</td> <td>Proper noun, singular</td> <td>专有名词，单数形式</td> <td>China, John</td> </tr> <tr> <td>NNPS</td> <td>Proper noun, plural</td> <td>专有名词，复数形式</td> <td>the United States, the Smiths</td> </tr> <tr> <td>PDT</td> <td>Predeterminer</td> <td>前位限定词</td> <td>all, both, half</td> </tr> <tr> <td>POS</td> <td>Possessive ending</td> <td>所有格结束词</td> <td>'s, s'</td> </tr> <tr> <td>PRP</td> <td>Personal pronoun</td> <td>人称代词</td> <td>I, you, he, she, it</td> </tr> <tr> <td>PRP$</td> <td>Possessive pronoun</td> <td>所有格代名词</td> <td>my, your, his, her, its</td> </tr> <tr> <td>RB</td> <td>Adverb</td> <td>副词</td> <td>quickly, slowly</td> </tr> <tr> <td>RBR</td> <td>Adverb, comparative</td> <td>副词比较级</td> <td>more quickly, more slowly</td> </tr> <tr> <td>RBS</td> <td>Adverb, superlative</td> <td>副词最高级</td> <td>most quickly, most slowly</td> </tr> <tr> <td>RP</td> <td>Particle</td> <td>小品词</td> <td>up, down, in, out</td> </tr> <tr> <td>SYM</td> <td>Symbol</td> <td>符号</td> <td>+, -, *, /</td> </tr> <tr> <td>TO</td> <td>to (as preposition or infinitive marker)</td> <td><span>to<span class=heti-spacing> </span></span>作为介词或不定式格式</td> <td>to the park, to go</td> </tr> <tr> <td>UH</td> <td>Interjection</td> <td>感叹词</td> <td>oh, ah, ouch</td> </tr> <tr> <td>VB</td> <td>Verb, base form</td> <td>动词基本形式</td> <td>go, do, have</td> </tr> <tr> <td>VBD</td> <td>Verb, past tense</td> <td>动词过去式</td> <td>went, did, had</td> </tr> <tr> <td>VBG</td> <td>Verb, gerund or present participle</td> <td>动名词和现在分词</td> <td>going, doing, having</td> </tr> <tr> <td>VBN</td> <td>Verb, past participle</td> <td>过去分词</td> <td>gone, done, had</td> </tr> <tr> <td>VBP</td> <td>Verb, non - 3<sup>rd</sup> person singular present</td> <td>动词非第三人称单数</td> <td>go, do, have (I go, you do, we have)</td> </tr> <tr> <td>VBZ</td> <td>Verb, 3<sup>rd</sup> person singular present</td> <td>动词第三人称单数</td> <td>goes, does, has (he goes, she does, it has)</td> </tr> <tr> <td>WDT</td> <td>Wh - determiner</td> <td>限定词</td> <td>whose, which, what (in relative or interrogative sentences)</td> </tr> <tr> <td>WP</td> <td>Wh - pronoun</td> <td>代词</td> <td>who, whose, which</td> </tr> <tr> <td>WP$</td> <td>Possessive wh - pronoun</td> <td>所有格代词</td> <td>whose</td> </tr> <tr> <td>WRB</td> <td>Wh - adverb</td> <td>疑问代词</td> <td>how, where, when</td> </tr> </tbody> </table> <div class=highlight><pre><span></span><code><span class=kn>import</span><span class=w> </span><span class=nn>nltk</span>
<span class=kn>from</span><span class=w> </span><span class=nn>nltk.tokenize</span><span class=w> </span><span class=kn>import</span> <span class=n>word_tokenize</span>
<span class=kn>from</span><span class=w> </span><span class=nn>nltk</span><span class=w> </span><span class=kn>import</span> <span class=n>pos_tag</span>
<span class=n>input_str</span> <span class=o>=</span> <span class=s2>"Today's weather is good, very windy and suny, we have no classes in the afternoon,we have to play baketball tomorrow."</span> 
<span class=n>tokens</span> <span class=o>=</span> <span class=n>word_tokenize</span><span class=p>(</span><span class=n>input_str</span><span class=p>)</span>
<span class=n>test_words</span> <span class=o>=</span> <span class=p>[</span><span class=n>word</span><span class=o>.</span><span class=n>lower</span><span class=p>()</span><span class=k>for</span> <span class=n>word</span> <span class=ow>in</span> <span class=n>tokens</span><span class=p>]</span>
<span class=n>tags</span> <span class=o>=</span> <span class=n>pos_tag</span><span class=p>(</span><span class=n>tokens</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>tags</span><span class=p>)</span>
</code></pre></div> <p>output: [('Today', 'NN'), ("'s", 'POS'), ('weather', 'NN'), ('is', 'VBZ'), ('good', 'JJ'), (',', ','), ('very', 'RB'), ('windy', 'JJ'), ('and', 'CC'), ('suny', 'JJ'), (',', ','), ('we', 'PRP'), ('have', 'VBP'), ('no', 'DT'), ('classes', 'NNS'), ('in', 'IN'), ('the', 'DT'), ('afternoon', 'NN'), (',', ','), ('we', 'PRP'), ('have', 'VBP'), ('to', 'TO'), ('play', 'VB'), ('baketball', 'DT'), ('tomorrow', 'NN'), ('.', '.')]</p> <h3 id=_15>分块<a class=headerlink href=#_15 title="anchor link to this section for reference"><span><span class=heti-spacing> </span>¶</span></a></h3> <p></p><div class=highlight><pre><span></span><code><span class=kn>import</span><span class=w> </span><span class=nn>nltk</span>
<span class=kn>from</span><span class=w> </span><span class=nn>nltk.chunk</span><span class=w> </span><span class=kn>import</span> <span class=n>RegexpParser</span>
<span class=n>sentence</span> <span class=o>=</span> <span class=p>[(</span><span class=s1>'the'</span><span class=p>,</span><span class=s1>'DT'</span><span class=p>),(</span><span class=s1>'little'</span><span class=p>,</span><span class=s1>'JJ'</span><span class=p>),(</span><span class=s1>'yellow'</span><span class=p>,</span><span class=s1>'JJ'</span><span class=p>),(</span><span class=s1>'dog'</span><span class=p>,</span><span class=s1>'NN'</span><span class=p>),(</span><span class=s1>'died'</span><span class=p>,</span><span class=s1>'VBD'</span><span class=p>)]</span>                                                          
<span class=n>grammer</span> <span class=o>=</span> <span class=s2>"MY_NP:{&lt;DT&gt;?&lt;JJ&gt;*&lt;NN&gt;}"</span>
<span class=n>cp</span><span class=o>=</span><span class=n>nltk</span><span class=o>.</span><span class=n>RegexpParser</span><span class=p>(</span><span class=n>grammer</span><span class=p>)</span><span class=c1>#生成规则</span>
<span class=n>result</span><span class=o>=</span><span class=n>cp</span><span class=o>.</span><span class=n>parse</span><span class=p>(</span><span class=n>sentence</span><span class=p>)</span><span class=c1>#进行分块</span>
<span class=nb>print</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>
<span class=n>result</span><span class=o>.</span><span class=n>draw</span><span class=p>()</span><span class=c1>#调用matplotlib库画出来</span>
</code></pre></div> output:(S (MY_NP the/DT little/JJ yellow/JJ dog/NN) died/VBD) 图片3 <h3 id=_16>命名实体<a class=headerlink href=#_16 title="anchor link to this section for reference"><span><span class=heti-spacing> </span>¶</span></a></h3> <p></p><div class=highlight><pre><span></span><code><span class=kn>from</span><span class=w> </span><span class=nn>nltk</span><span class=w> </span><span class=kn>import</span> <span class=n>ne_chunk</span>
<span class=n>sentence</span> <span class=o>=</span> <span class=s2>"Edison went to Tsinghua University today"</span>
<span class=nb>print</span><span class=p>(</span><span class=n>ne_chunk</span><span class=p>(</span><span class=n>pos_tag</span><span class=p>(</span><span class=n>word_tokenize</span><span class=p>(</span><span class=n>sentence</span><span class=p>))))</span>
</code></pre></div> output: (S (PERSON Edison/NNP) went/VBD to/TO (ORGANIZATION Tsinghua/NNP University/NNP) today/NN) <h3 id=_17>数据清洗实例<a class=headerlink href=#_17 title="anchor link to this section for reference"><span><span class=heti-spacing> </span>¶</span></a></h3> <p></p><div class=highlight><pre><span></span><code><span class=kn>import</span><span class=w> </span><span class=nn>re</span>
<span class=kn>from</span><span class=w> </span><span class=nn>nltk.corpus</span><span class=w> </span><span class=kn>import</span> <span class=n>stopwords</span>
<span class=kn>from</span><span class=w> </span><span class=nn>nltk.tokenize</span><span class=w> </span><span class=kn>import</span> <span class=n>word_tokenize</span>

<span class=c1># 输入数据</span>
<span class=n>s</span> <span class=o>=</span> <span class=s1>'RT @Amila #Test</span><span class=se>\n</span><span class=s1>Tom</span><span class=se>\'</span><span class=s1>s newly listed Co &amp; Mary</span><span class=se>\'</span><span class=s1>s unlisted Group to supply tech for nlTK.</span><span class=se>\n</span><span class=s1>h$TSLA$AAPL https://t.co/x34afs'</span>

<span class=c1># 指定停用词</span>
<span class=n>cache_english_stopwords</span> <span class=o>=</span> <span class=n>stopwords</span><span class=o>.</span><span class=n>words</span><span class=p>(</span><span class=s1>'english'</span><span class=p>)</span>

<span class=k>def</span><span class=w> </span><span class=nf>text_clean</span><span class=p>(</span><span class=n>text</span><span class=p>):</span>
    <span class=nb>print</span><span class=p>(</span><span class=s1>'原始数据:'</span><span class=p>,</span> <span class=n>text</span><span class=p>,</span> <span class=s1>'</span><span class=se>\n</span><span class=s1>'</span><span class=p>)</span>

    <span class=c1># 去掉HTML标签(e.g. &amp;amp;)</span>
    <span class=n>text_no_special_entities</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>sub</span><span class=p>(</span><span class=sa>r</span><span class=s1>'\&amp;\w*;|#\w*|@\w*'</span><span class=p>,</span> <span class=s1>''</span><span class=p>,</span> <span class=n>text</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=s1>'去掉特殊标签后的:'</span><span class=p>,</span> <span class=n>text_no_special_entities</span><span class=p>,</span> <span class=s1>'</span><span class=se>\n</span><span class=s1>'</span><span class=p>)</span>

    <span class=c1># 去掉一些价值符号</span>
    <span class=n>text_no_tickers</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>sub</span><span class=p>(</span><span class=sa>r</span><span class=s1>'\$\w*'</span><span class=p>,</span> <span class=s1>''</span><span class=p>,</span> <span class=n>text_no_special_entities</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=s1>'去掉价值符号后的:'</span><span class=p>,</span> <span class=n>text_no_tickers</span><span class=p>,</span> <span class=s1>'</span><span class=se>\n</span><span class=s1>'</span><span class=p>)</span>

    <span class=c1># 去掉超链接</span>
    <span class=n>text_no_hyperlinks</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>sub</span><span class=p>(</span><span class=sa>r</span><span class=s1>'https?://\S+|www\.\S+'</span><span class=p>,</span> <span class=s1>''</span><span class=p>,</span> <span class=n>text_no_tickers</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=s1>'去掉超链接后的:'</span><span class=p>,</span> <span class=n>text_no_hyperlinks</span><span class=p>,</span> <span class=s1>'</span><span class=se>\n</span><span class=s1>'</span><span class=p>)</span>

    <span class=c1># 去掉一些专门名词缩写，简单来说就是字母比较少的词</span>
    <span class=n>text_no_small_words</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>sub</span><span class=p>(</span><span class=sa>r</span><span class=s1>'\b\w{1,2}\b'</span><span class=p>,</span> <span class=s1>''</span><span class=p>,</span> <span class=n>text_no_hyperlinks</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=s1>'去掉专门名词缩写后:'</span><span class=p>,</span> <span class=n>text_no_small_words</span><span class=p>,</span> <span class=s1>'</span><span class=se>\n</span><span class=s1>'</span><span class=p>)</span>

    <span class=c1># 去掉多余的空格</span>
    <span class=n>text_no_whitespace</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>sub</span><span class=p>(</span><span class=sa>r</span><span class=s1>'\s+'</span><span class=p>,</span> <span class=s1>' '</span><span class=p>,</span> <span class=n>text_no_small_words</span><span class=p>)</span>
    <span class=n>text_no_whitespace</span> <span class=o>=</span> <span class=n>text_no_whitespace</span><span class=o>.</span><span class=n>strip</span><span class=p>()</span>
    <span class=nb>print</span><span class=p>(</span><span class=s1>'去掉空格后的:'</span><span class=p>,</span> <span class=n>text_no_whitespace</span><span class=p>,</span> <span class=s1>'</span><span class=se>\n</span><span class=s1>'</span><span class=p>)</span>

    <span class=c1># 分词</span>
    <span class=n>tokens</span> <span class=o>=</span> <span class=n>word_tokenize</span><span class=p>(</span><span class=n>text_no_whitespace</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=s1>'分词结果:'</span><span class=p>,</span> <span class=n>tokens</span><span class=p>,</span> <span class=s1>'</span><span class=se>\n</span><span class=s1>'</span><span class=p>)</span>

    <span class=c1># 去停用词</span>
    <span class=n>list_no_stopwords</span> <span class=o>=</span> <span class=p>[</span><span class=n>i</span> <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=n>tokens</span> <span class=k>if</span> <span class=n>i</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>cache_english_stopwords</span><span class=p>]</span>
    <span class=nb>print</span><span class=p>(</span><span class=s1>'去停用词后结果:'</span><span class=p>,</span> <span class=n>list_no_stopwords</span><span class=p>,</span> <span class=s1>'</span><span class=se>\n</span><span class=s1>'</span><span class=p>)</span>

    <span class=c1># 过滤后结果</span>
    <span class=n>text_filtered</span> <span class=o>=</span> <span class=s1>' '</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>list_no_stopwords</span><span class=p>)</span>  <span class=c1># ' '.join() would join with spaces between words.</span>
    <span class=nb>print</span><span class=p>(</span><span class=s1>'过滤后:'</span><span class=p>,</span> <span class=n>text_filtered</span><span class=p>)</span>

<span class=n>text_clean</span><span class=p>(</span><span class=n>s</span><span class=p>)</span>
</code></pre></div> output: 原始数据: RT <a class="magiclink magiclink-github magiclink-mention" href=https://github.com/Amila title="GitHub User: Amila">@Amila</a> #Test Tom's newly listed Co &amp; Mary's unlisted Group to supply tech for nlTK. h<span class=arithmatex>\(TSLA\)</span>AAPL <a href=https://t.co/x34afs>https://t.co/x34afs</a> <p>去掉特殊标签后的<span><span class=heti-spacing> </span>: RT</span> Tom's newly listed Co &amp; Mary's unlisted Group to supply tech for nlTK. h<span class=arithmatex>\(TSLA\)</span>AAPL <a href=https://t.co/x34afs>https://t.co/x34afs</a></p> <p>去掉价值符号后的<span><span class=heti-spacing> </span>: RT</span> Tom's newly listed Co &amp; Mary's unlisted Group to supply tech for nlTK. h <a href=https://t.co/x34afs>https://t.co/x34afs</a></p> <p>去掉超链接后的<span><span class=heti-spacing> </span>: RT</span> Tom's newly listed Co &amp; Mary's unlisted Group to supply tech for nlTK. h</p> <p>去掉专门名词缩写后<span><span class=heti-spacing> </span>:</span> Tom' newly listed &amp; Mary' unlisted Group supply tech for nlTK.</p> <p>去掉空格后的<span><span class=heti-spacing> </span>: Tom' newly listed &amp; Mary' unlisted Group supply tech for nlTK.</span></p> <p>分词结果<span><span class=heti-spacing> </span>: ['Tom', "'", 'newly', 'listed', '&amp;', 'Mary', "'", 'unlisted', 'Group', 'supply', 'tech', 'for', 'nlTK', '.']</span></p> <p>去停用词后结果<span><span class=heti-spacing> </span>: ['Tom', "'", 'newly', 'listed', '&amp;', 'Mary', "'", 'unlisted', 'Group', 'supply', 'tech', 'nlTK', '.']</span></p> <p>过滤后<span><span class=heti-spacing> </span>: Tom ' newly listed &amp; Mary ' unlisted Group supply tech nlTK .</span></p> <h2 id=spacy><span>Spacy<span class=heti-spacing> </span></span>工具包<a class=headerlink href=#spacy title="anchor link to this section for reference"><span><span class=heti-spacing> </span>¶</span></a></h2> <p></p><div class=highlight><pre><span></span><code><span class=kn>import</span><span class=w> </span><span class=nn>spacy</span>
<span class=n>nlp</span> <span class=o>=</span> <span class=n>spacy</span><span class=o>.</span><span class=n>load</span><span class=p>(</span><span class=s1>'en_core_web_sm'</span><span class=p>)</span>
<span class=n>doc</span> <span class=o>=</span> <span class=n>nlp</span><span class=p>(</span><span class=s1>'Weather is good, very windy and sunny. We have no classes in the afternoon.'</span><span class=p>)</span>
<span class=c1>#分词</span>
<span class=k>for</span> <span class=n>token</span> <span class=ow>in</span> <span class=n>doc</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>token</span><span class=p>)</span>
<span class=c1>#分句</span>
<span class=k>for</span> <span class=n>sent</span> <span class=ow>in</span> <span class=n>doc</span><span class=o>.</span><span class=n>sents</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>sent</span><span class=p>)</span>
<span class=c1>#词性</span>
<span class=k>for</span> <span class=n>token</span> <span class=ow>in</span> <span class=n>doc</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=s1>'</span><span class=si>{}</span><span class=s1>-</span><span class=si>{}</span><span class=s1>'</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>token</span><span class=p>,</span><span class=n>token</span><span class=o>.</span><span class=n>pos_</span><span class=p>))</span>
</code></pre></div> output: Weather is good , very windy and sunny . We have no classes in the afternoon . Weather is good, very windy and sunny. We have no classes in the afternoon. Weather-NOUN is-AUX good-ADJ ,-PUNCT very-ADV windy-ADJ and-CCONJ sunny-ADJ .-PUNCT We-PRON have-VERB no-DET classes-NOUN in-ADP the-DET afternoon-NOUN .-PUNCT <h3 id=_18>命名体识别<a class=headerlink href=#_18 title="anchor link to this section for reference"><span><span class=heti-spacing> </span>¶</span></a></h3> <p></p><div class=highlight><pre><span></span><code><span class=kn>import</span><span class=w> </span><span class=nn>spacy</span>
<span class=n>nlp</span> <span class=o>=</span> <span class=n>spacy</span><span class=o>.</span><span class=n>load</span><span class=p>(</span><span class=s1>'en_core_web_sm'</span><span class=p>)</span>
<span class=n>doc</span> <span class=o>=</span> <span class=n>nlp</span><span class=p>(</span><span class=s1>'I went to Paris where I met my old friend Jack from uni.'</span><span class=p>)</span>

<span class=k>for</span> <span class=n>ent</span> <span class=ow>in</span> <span class=n>doc</span><span class=o>.</span><span class=n>ents</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=s1>'</span><span class=si>{}</span><span class=s1>-</span><span class=si>{}</span><span class=s1>'</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>ent</span><span class=p>,</span><span class=n>ent</span><span class=o>.</span><span class=n>label_</span><span class=p>))</span>
</code></pre></div> output: Paris-GPE Jack-PERSON <h2 id=_19>结巴分词器<a class=headerlink href=#_19 title="anchor link to this section for reference"><span><span class=heti-spacing> </span>¶</span></a></h2> <p></p><div class=highlight><pre><span></span><code><span class=kn>import</span><span class=w> </span><span class=nn>jieba</span>

<span class=n>seg_list</span> <span class=o>=</span> <span class=n>jieba</span><span class=o>.</span><span class=n>cut</span><span class=p>(</span><span class=s2>"我来到北京清华大学"</span><span class=p>,</span> <span class=n>cut_all</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=s2>"全模式: "</span> <span class=o>+</span> <span class=s2>"/"</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>seg_list</span><span class=p>))</span>  <span class=c1># 全模式</span>

<span class=n>seg_list</span> <span class=o>=</span> <span class=n>jieba</span><span class=o>.</span><span class=n>cut</span><span class=p>(</span><span class=s2>"我来到北京清华大学"</span><span class=p>,</span> <span class=n>cut_all</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=s2>"精确模式: "</span> <span class=o>+</span> <span class=s2>"/"</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>seg_list</span><span class=p>))</span>  <span class=c1># 精确模式</span>

<span class=n>seg_list</span> <span class=o>=</span> <span class=n>jieba</span><span class=o>.</span><span class=n>cut</span><span class=p>(</span><span class=s2>"他来到了网易杭研大厦"</span><span class=p>)</span>  <span class=c1># 默认是精确模式</span>
<span class=nb>print</span><span class=p>(</span><span class=s2>", "</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>seg_list</span><span class=p>))</span>
</code></pre></div> output: 全模式: 我/来到/北京/清华/清华大学/华大/大学 精确模式: 我/来到/北京/清华大学 他, 来到, 了, 网易, 杭研, 大厦 <h3 id=_20>添加自定义词典<a class=headerlink href=#_20 title="anchor link to this section for reference"><span><span class=heti-spacing> </span>¶</span></a></h3> <p></p><div class=highlight><pre><span></span><code><span class=kn>import</span><span class=w> </span><span class=nn>jieba</span>

<span class=n>jieba</span><span class=o>.</span><span class=n>load_userdict</span><span class=p>(</span><span class=s2>"D:\zyj's notebook\zyj-s-notebook\mydict.txt"</span><span class=p>)</span>  <span class=c1># 需UTF-8，可以在另存为里面设置</span>

<span class=c1># 也可以用jieba.add_word("乾清宫")</span>
<span class=n>text</span> <span class=o>=</span> <span class=s2>"故宫的著名景点包括乾清宫、太和殿和黄琉璃瓦等"</span>

<span class=c1># 全模式</span>
<span class=n>seg_list</span> <span class=o>=</span> <span class=n>jieba</span><span class=o>.</span><span class=n>cut</span><span class=p>(</span><span class=n>text</span><span class=p>,</span> <span class=n>cut_all</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>u</span><span class=s2>"[全模式]: "</span><span class=p>,</span> <span class=s2>"/"</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>seg_list</span><span class=p>))</span>

<span class=c1># 精确模式</span>
<span class=n>seg_list</span> <span class=o>=</span> <span class=n>jieba</span><span class=o>.</span><span class=n>cut</span><span class=p>(</span><span class=n>text</span><span class=p>,</span> <span class=n>cut_all</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>u</span><span class=s2>"[精确模式]: "</span><span class=p>,</span> <span class=s2>"/"</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>seg_list</span><span class=p>))</span>
</code></pre></div> output: <h3 id=_21>关键词抽取<a class=headerlink href=#_21 title="anchor link to this section for reference"><span><span class=heti-spacing> </span>¶</span></a></h3> <p></p><div class=highlight><pre><span></span><code><span class=kn>import</span><span class=w> </span><span class=nn>jieba</span>

<span class=n>jieba</span><span class=o>.</span><span class=n>load_userdict</span><span class=p>(</span><span class=s2>"D:\zyj's notebook\zyj-s-notebook\mydict.txt"</span><span class=p>)</span>  <span class=c1># 需UTF-8，可以在另存为里面设置</span>

<span class=c1># 也可以用jieba.add_word("乾清宫")</span>
<span class=n>text</span> <span class=o>=</span> <span class=s2>"故宫的著名景点包括乾清宫、太和殿和黄琉璃瓦等"</span>

<span class=kn>import</span><span class=w> </span><span class=nn>jieba.analyse</span>

<span class=n>seg_list</span> <span class=o>=</span> <span class=n>jieba</span><span class=o>.</span><span class=n>cut</span><span class=p>(</span><span class=n>text</span><span class=p>,</span> <span class=n>cut_all</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>u</span><span class=s2>"分词结果:"</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=s2>"/"</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>seg_list</span><span class=p>))</span>

<span class=c1># 获取关键词</span>
<span class=n>tags</span> <span class=o>=</span> <span class=n>jieba</span><span class=o>.</span><span class=n>analyse</span><span class=o>.</span><span class=n>extract_tags</span><span class=p>(</span><span class=n>text</span><span class=p>,</span> <span class=n>topK</span><span class=o>=</span><span class=mi>5</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=sa>u</span><span class=s2>"关键词:"</span><span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=s2>" "</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>tags</span><span class=p>))</span>
<span class=n>tags</span> <span class=o>=</span> <span class=n>jieba</span><span class=o>.</span><span class=n>analyse</span><span class=o>.</span><span class=n>extract_tags</span><span class=p>(</span><span class=n>text</span><span class=p>,</span> <span class=n>topK</span><span class=o>=</span><span class=mi>5</span><span class=p>,</span> <span class=n>withWeight</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
<span class=k>for</span> <span class=n>word</span><span class=p>,</span> <span class=n>weight</span> <span class=ow>in</span> <span class=n>tags</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>word</span><span class=p>,</span> <span class=n>weight</span><span class=p>)</span>
</code></pre></div> output: 分词结果: 故宫/的/著名景点/包括/乾清宫/、/太和殿/和/黄琉璃瓦/等 关键词: 著名景点 乾清宫 黄琉璃瓦 太和殿 故宫 著名景点 2.3167796086666668 乾清宫 1.9924612504833332 黄琉璃瓦 1.9924612504833332 太和殿 1.6938346722833335 故宫 1.5411195503033335 <h3 id=_22>词性标注<a class=headerlink href=#_22 title="anchor link to this section for reference"><span><span class=heti-spacing> </span>¶</span></a></h3> <p></p><div class=highlight><pre><span></span><code><span class=kn>import</span><span class=w> </span><span class=nn>jieba.posseg</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>pseg</span>

<span class=n>words</span> <span class=o>=</span> <span class=n>pseg</span><span class=o>.</span><span class=n>cut</span><span class=p>(</span><span class=s2>"我爱北京天安门"</span><span class=p>)</span>
<span class=k>for</span> <span class=n>word</span><span class=p>,</span> <span class=n>flag</span> <span class=ow>in</span> <span class=n>words</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=s2>"</span><span class=si>%s</span><span class=s2> </span><span class=si>%s</span><span class=s2>"</span> <span class=o>%</span> <span class=p>(</span><span class=n>word</span><span class=p>,</span> <span class=n>flag</span><span class=p>))</span>
</code></pre></div> output: 我 r 爱 v 北京 ns 天安门 ns <h3 id=_23>词云展示<a class=headerlink href=#_23 title="anchor link to this section for reference"><span><span class=heti-spacing> </span>¶</span></a></h3> <p>先将停用词写成一个<span><span class=heti-spacing> </span>txt:</span> </p><div class=highlight><pre><span></span><code><span class=kn>import</span><span class=w> </span><span class=nn>nltk</span>
<span class=kn>from</span><span class=w> </span><span class=nn>nltk.corpus</span><span class=w> </span><span class=kn>import</span> <span class=n>stopwords</span>

<span class=c1># 获取中文停用词表</span>
<span class=n>chinese_stopwords</span> <span class=o>=</span> <span class=n>stopwords</span><span class=o>.</span><span class=n>words</span><span class=p>(</span><span class=s1>'chinese'</span><span class=p>)</span>

<span class=c1># 指定要写入的文件路径</span>
<span class=n>file_path</span> <span class=o>=</span> <span class=s1>'stopwords.txt'</span>  

<span class=c1># 将停用词表写入文件</span>
<span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>file_path</span><span class=p>,</span> <span class=s1>'w'</span><span class=p>,</span> <span class=n>encoding</span><span class=o>=</span><span class=s1>'utf-8'</span><span class=p>)</span> <span class=k>as</span> <span class=n>file</span><span class=p>:</span>
    <span class=k>for</span> <span class=n>word</span> <span class=ow>in</span> <span class=n>chinese_stopwords</span><span class=p>:</span>
        <span class=n>file</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=n>word</span> <span class=o>+</span> <span class=s1>'</span><span class=se>\n</span><span class=s1>'</span><span class=p>)</span>
</code></pre></div> <div class=highlight><pre><span></span><code><span class=kn>import</span><span class=w> </span><span class=nn>jieba</span>
<span class=kn>from</span><span class=w> </span><span class=nn>wordcloud</span><span class=w> </span><span class=kn>import</span> <span class=n>WordCloud</span>
<span class=kn>import</span><span class=w> </span><span class=nn>imageio</span>
<span class=kn>from</span><span class=w> </span><span class=nn>collections</span><span class=w> </span><span class=kn>import</span> <span class=n>Counter</span>
<span class=kn>import</span><span class=w> </span><span class=nn>matplotlib.pyplot</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>plt</span>

<span class=c1># 读取文本文件和停用词表</span>
<span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=s1>'19大.txt'</span><span class=p>,</span> <span class=s1>'r'</span><span class=p>,</span> <span class=n>encoding</span><span class=o>=</span><span class=s1>'utf-8'</span><span class=p>)</span> <span class=k>as</span> <span class=n>text_file</span><span class=p>:</span>
    <span class=n>text</span> <span class=o>=</span> <span class=n>text_file</span><span class=o>.</span><span class=n>read</span><span class=p>()</span>
<span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=s1>'stopwords.txt'</span><span class=p>,</span> <span class=n>encoding</span><span class=o>=</span><span class=s1>'utf-8'</span><span class=p>)</span> <span class=k>as</span> <span class=n>file</span><span class=p>:</span>
    <span class=n>stopwords</span> <span class=o>=</span> <span class=p>{</span><span class=n>line</span><span class=o>.</span><span class=n>strip</span><span class=p>()</span> <span class=k>for</span> <span class=n>line</span> <span class=ow>in</span> <span class=n>file</span><span class=p>}</span>

<span class=c1># 分词并统计词频，除去停用词</span>
<span class=n>seg_list</span> <span class=o>=</span> <span class=n>jieba</span><span class=o>.</span><span class=n>cut</span><span class=p>(</span><span class=n>text</span><span class=p>,</span> <span class=n>cut_all</span><span class=o>=</span><span class=kc>False</span><span class=p>)</span>
<span class=n>data</span> <span class=o>=</span> <span class=p>{}</span>
<span class=k>for</span> <span class=n>word</span> <span class=ow>in</span> <span class=n>seg_list</span><span class=p>:</span>
    <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>word</span><span class=p>)</span> <span class=o>&gt;=</span> <span class=mi>2</span> <span class=ow>and</span> <span class=n>word</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>stopwords</span><span class=p>:</span>
        <span class=k>if</span> <span class=n>word</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>data</span><span class=p>:</span>
            <span class=n>data</span><span class=p>[</span><span class=n>word</span><span class=p>]</span> <span class=o>=</span> <span class=mi>0</span>
        <span class=n>data</span><span class=p>[</span><span class=n>word</span><span class=p>]</span> <span class=o>+=</span> <span class=mi>1</span>

<span class=c1># 读取遮罩图片</span>
<span class=n>mask</span> <span class=o>=</span> <span class=n>imageio</span><span class=o>.</span><span class=n>imread</span><span class=p>(</span><span class=s1>'图片</span><span class=se>\\</span><span class=s1>th.jpg'</span><span class=p>)</span>  <span class=c1># 确保路径正确</span>

<span class=c1># 创建词云对象</span>
<span class=n>my_wordcloud</span> <span class=o>=</span> <span class=n>WordCloud</span><span class=p>(</span>
    <span class=n>background_color</span><span class=o>=</span><span class=s1>'white'</span><span class=p>,</span>  <span class=c1># 设置背景颜色</span>
    <span class=n>max_words</span><span class=o>=</span><span class=mi>400</span><span class=p>,</span>  <span class=c1># 设置最大实现的字数</span>
    <span class=n>font_path</span><span class=o>=</span><span class=sa>r</span><span class=s1>'SimHei.ttf'</span><span class=p>,</span>  <span class=c1># 设置字体格式，如不设置显示不了中文</span>
    <span class=n>mask</span><span class=o>=</span><span class=n>mask</span><span class=p>,</span>  <span class=c1># 指定在什么图片上画</span>
    <span class=n>width</span><span class=o>=</span><span class=mi>1000</span><span class=p>,</span>
    <span class=n>height</span><span class=o>=</span><span class=mi>1000</span><span class=p>,</span>
    <span class=n>stopwords</span><span class=o>=</span><span class=n>stopwords</span>
<span class=p>)</span><span class=o>.</span><span class=n>generate_from_frequencies</span><span class=p>(</span><span class=n>data</span><span class=p>)</span>

<span class=c1># 展示词云</span>
<span class=n>plt</span><span class=o>.</span><span class=n>figure</span><span class=p>(</span><span class=n>figsize</span><span class=o>=</span><span class=p>(</span><span class=mi>18</span><span class=p>,</span> <span class=mi>16</span><span class=p>))</span>
<span class=n>plt</span><span class=o>.</span><span class=n>imshow</span><span class=p>(</span><span class=n>my_wordcloud</span><span class=p>,</span> <span class=n>interpolation</span><span class=o>=</span><span class=s1>'bilinear'</span><span class=p>)</span>
<span class=n>plt</span><span class=o>.</span><span class=n>axis</span><span class=p>(</span><span class=s1>'off'</span><span class=p>)</span>
<span class=n>plt</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>  <span class=c1># 展示词云</span>

<span class=c1># 保存词云图像</span>
<span class=n>my_wordcloud</span><span class=o>.</span><span class=n>to_file</span><span class=p>(</span><span class=s1>'result.jpg'</span><span class=p>)</span>
</code></pre></div> result:图片四 </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button class="md-top md-icon" data-md-component=top hidden type=button> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"></path></svg> 回到页面顶部 </button> </main> <footer class=md-footer> <nav aria-label=页脚 class="md-footer__inner md-grid"> <a aria-label="上一页: Welcome to MkDocs" class="md-footer__link md-footer__link--prev" href=..> <div class="md-footer__button md-icon"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> 上一页 </span> <div class=md-ellipsis> Welcome to MkDocs </div> </div> </a> <a aria-label="下一页: Nlp2" href=../nlp2/ class="md-footer__link md-footer__link--next"> <div class=md-footer__title> <span class=md-footer__direction> 下一页 </span> <div class=md-ellipsis> Nlp2 </div> </div> <div class="md-footer__button md-icon"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"></path></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright <span style=font-family:Arial;>©</span> 2025-2026 <a href=https://github.com/zyj1214566/zyj1214566.github.io target=_blank>ZYJ</a> </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ rel=noopener target=_blank> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "..", "features": ["navigation.tracking", "navigation.tabs", "navigation.path", "navigation.indexes", "navigation.top", "navigation.footer", "navigation.instant", "search.highlight", "search.share", "search.suggest", "toc.follow", "content.code.annotate", "content.code.copy", "content.tabs.link", "announce.dismiss"], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script> <script src=../assets/javascripts/bundle.fe8b6f2b.min.js></script> <script src=../style/js/toc.js></script> <script src=../style/js/mathjax.js></script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script> </body> </html>